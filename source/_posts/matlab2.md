---
title: 用MATLAB对PID控制做简单的仿真
date: 2013-04-13 00:00:00
categories: Uncategorized
keywords: PID控制, MATLAB
description: PID控制是将误差信号e(t)的比例(P)，积分(I)和微分(D)通过线性组合构成控制量进行控制，用MATLAB软件对PID控制做简单的仿真
---

PID控制是目前工程上应用最广的一种控制方法，其结构简单，且不依赖被控对象模型，控制所需的信息量也很少，因而易于工程实现，同时也可获得较好的控制效果。

PID控制是将误差信号e(t)的比例(P)，积分(I)和微分(D)通过线性组合构成控制量进行控制，其输出信号为：

{% raw %}
\[u(t) = {K_P}[e(t) + \frac{1}{{{T_I}}}\int_0^t {e(t)dt + {T_D}\frac{{de(t)}}{{dt}}} ]\]
{% endraw %}

下面用MATLAB软件对PID控制做简单的仿真描述。

1\. 建立二阶负反馈控制系统，其开环传递函数为：

{% raw %}
\[{G_O}(s) = \frac{1}{{(2s + 1)(5s + 1)}}\]
{% endraw %}

``` MATLAB
clc; clear all; close all;
Go = tf(1,conv([2,1],[5,1]));
```

2\. 比例控制，输出与输入偏差成比例，即直接将误差信号放大或缩小。比例控制的传递函数为：

{% raw %}
\[{G_C}(s) = {K_P}\]
{% endraw %}

取不同的比例系数，绘制系统的单位阶跃响应曲线：

``` MATLAB
Kp = [0.5,2,5,10];
for m = 1:4
    sys = feedback(Kp(m)*Go,1);
    step(sys); hold on;
end
```

{% img /images/matlab/P.gif 275 %}

随着K<sub>P</sub>值的增大，系统响应速度加快，但系统的超调也随着增加，调节时间也随着增长。当K<sub>P</sub>增大到一定值后，闭环系统将趋于不稳定。

比例控制具有抗干扰能力强、控制及时、过渡时间短的优点，但存在稳态误差，增大比例系数可提高系统的开环增益，减小系统的稳态误差，从而提高系统的控制精度，但这会降低系统的相对稳定性，甚至可能造成闭环系统的不稳定，因此，在系统校正和设计中，比例控制一般不单独使用。

3\. 微分控制，输出与输入偏差的微分成比例，即与偏差的变化速度成比例。微分控制（与比例控制同时使用）的传递函数为：

{% raw %}
\[{G_C}(s) = {K_P}(1 + {T_D}s)\]
{% endraw %}

取不同的微分系数，绘制系统的单位阶跃响应曲线：

``` MATLAB
Kp = 10;
Td = [0,0.4,1,4];
for m = 1:4
    G1 = tf([Kp*Td(m),Kp],[0,1]);
    sys = feedback(G1*Go,1);
    step(sys); hold on;
end
```

{% img /images/matlab/PD.gif 275 %}

随着T<sub>D</sub>值的增大，系统超调量逐渐减小，动态特征有改善。

自动控制系统在克服误差的调节过程中可能会出现振荡甚至不稳定，原因是存在有较大惯性或有滞后的组件，具有抑制误差的作用，其变化总是落后于误差的变化，在控制器质中仅引入比例项是不够的，比例项的作用仅是放大误差的幅值，而微分项能预测误差的变化趋势，这样，具有比例+微分的控制器，就能提前使抑制误差的控制作用等于零，甚至为负值，从而避免被控量的严重超调，改善动态特性。

微分控制反映误差的变化率，只有当误差随时间变化时，微分控制才会对系统起作用，而对无变化或缓慢变化的对象不起作用。另外，微分控制对纯滞后环节不能起到改善控制品质的作用，反而具有放大高频噪声信号的缺点。

4\. 积分控制，输出与输入偏差的积分成比例，即与误差的积累成比例。积分控制（与比例控制同时使用）的传递函数为：

{% raw %}
\[{G_C}(s) = {K_P}(1 + \frac{1}{{{T_I}}} \cdot \frac{1}{s})\]
{% endraw %}

取不同的积分系数，绘制系统的单位阶跃响应曲线：

``` MATLAB
Kp = 2;
Ti = [3,6,12,24];
for m = 1:4
    G1 = tf([Kp,Kp/Ti(m)],[1,0]);
    sys = feedback(G1*Go,1);
    step(sys); hold on;
end
```

{% img /images/matlab/PI.gif 275 %}

加入积分控制后，消除了系统稳态误差，但随着T<sub>I</sub>值的增大，达到稳态的过渡时间也逐渐加长。

积分项对误差取决于时间的积分，随着时间的增加，积分项会增大。这样，即使误差很小，积分项也会随着时间的增加而加大，它推动控制器的输出增大，使稳态误差进一步减小，直到等于零，但会使系统稳定性降低，过渡时间也加长。

5\. 比例积分微分控制，即PID控制的传递函数为：

{% raw %}
\[{G_C}(s) = {K_P}(1 + \frac{1}{{{T_I}}} \cdot \frac{1}{s} + {T_D}s)\]
{% endraw %}

取适当的比例、积分、微分系数，绘制系统的单位阶跃响应曲线：

``` MATLAB
Kp = 100;
Ti = 2.2;
Td = 7;
G1 = tf([Kp(m)*Td(m),Kp(m),Kp(m)/Ti(m)],[0,1,0]); 
sys = feedback(G1*Go,1);
step(sys);
```

{% img /images/matlab/PID.gif 275 %}

PID控制通过积分作用消除误差，而微分控制可缩小超调量、加快系统响应，是综合了PI控制和PD控制长处并去除其短处的控制。


<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>
